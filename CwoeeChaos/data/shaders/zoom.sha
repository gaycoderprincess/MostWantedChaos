uniform sampler2D pTexture : register(s0);
float4 reg_timer : register(c1);

struct PS_INPUT {
	float4 Color : COLOR;
	float2 UV : TEXCOORD0;
};

float4 main(PS_INPUT input) : COLOR {
	float2 outUV = input.UV;
	float time = reg_timer.x;
	outUV.x = outUV.x - 0.5;
	outUV.x = outUV.x / (1 + 2 * time);
	outUV.x = outUV.x + 0.5;
	outUV.y = outUV.y - 0.5;
	outUV.y = outUV.y / (1 + 2 * time);
	outUV.y = outUV.y + 0.5;
	float4 outColor = tex2D(pTexture, outUV) * input.Color;
	return outColor;
}
